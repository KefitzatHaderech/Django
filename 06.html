<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Displaying Records</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="01.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="02.html"><strong aria-hidden="true">2.</strong> Setup & Installation</a></li><li class="chapter-item expanded "><a href="03.html"><strong aria-hidden="true">3.</strong> Django Basics</a></li><li class="chapter-item expanded "><a href="04.html"><strong aria-hidden="true">4.</strong> Database Setup</a></li><li class="chapter-item expanded "><a href="05.html"><strong aria-hidden="true">5.</strong> Adding Database Records</a></li><li class="chapter-item expanded "><a href="06.html" class="active"><strong aria-hidden="true">6.</strong> Displaying Records</a></li><li class="chapter-item expanded "><a href="07.html"><strong aria-hidden="true">7.</strong> Admin Dashboard</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="displaying-records"><a class="header" href="#displaying-records">Displaying Records</a></h1>
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>In this tutorial, we will focus on rendering records stored in the database onto a web page using Django. We will move beyond displaying text in the Django shell and start displaying HTML content dynamically. This involves utilizing Django templates and context to render records from the database.</p>
<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
<ul>
<li>A working Django project.</li>
<li>Basic knowledge of Django models and views.</li>
<li>Familiarity with HTML.</li>
</ul>
<h2 id="step-by-step-guide"><a class="header" href="#step-by-step-guide">Step-by-Step Guide</a></h2>
<h3 id="1-setting-up-the-project"><a class="header" href="#1-setting-up-the-project">1. Setting Up the Project</a></h3>
<p>Ensure you have your virtual environment activated and the Django project running.</p>
<pre><code class="language-bash">source env/bin/activate  # Activate your virtual environment
python manage.py runserver  # Run the Django development server
</code></pre>
<h3 id="2-create-the-html-template"><a class="header" href="#2-create-the-html-template">2. Create the HTML Template</a></h3>
<p>First, create a folder structure for your templates. In your Django app, create a folder named <code>templates</code> and within it, another folder named <code>tours</code>.</p>
<pre><code class="language-bash">mkdir -p your_app/templates/tours
</code></pre>
<p>Inside the <code>tours</code> folder, create an <code>index.html</code> file.</p>
<pre><code class="language-html">&lt;!-- your_app/templates/tours/index.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Asia Tours&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Asia Tours Schedule for June 2024&lt;/h1&gt;
    &lt;ul&gt;
        {% for tour in tours %}
            &lt;li&gt;{{ tour }}&lt;/li&gt;
        {% endfor %}
    &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="3-update-the-view"><a class="header" href="#3-update-the-view">3. Update the View</a></h3>
<p>Modify your <code>views.py</code> to render this template and pass the necessary context.</p>
<pre><code class="language-python"># your_app/views.py
from django.shortcuts import render
from .models import Tour

def index(request):
    tours = Tour.objects.all()
    context = {
        'tours': tours
    }
    return render(request, 'tours/index.html', context)
</code></pre>
<h3 id="4-define-the-url"><a class="header" href="#4-define-the-url">4. Define the URL</a></h3>
<p>Ensure your URL configuration points to this view. Modify your <code>urls.py</code> accordingly.</p>
<pre><code class="language-python"># your_app/urls.py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name='index'),
]
</code></pre>
<h3 id="5-create-a-model-if-not-already-done"><a class="header" href="#5-create-a-model-if-not-already-done">5. Create a Model (if not already done)</a></h3>
<p>If you haven't already, define a model for your tours in <code>models.py</code>.</p>
<pre><code class="language-python"># your_app/models.py
from django.db import models

class Tour(models.Model):
    origin = models.CharField(max_length=100)
    destination = models.CharField(max_length=100)
    number_of_nights = models.IntegerField()
    price = models.DecimalField(max_digits=10, decimal_places=2)

    def __str__(self):
        return f"{self.origin} to {self.destination} - {self.number_of_nights} nights - ${self.price}"
</code></pre>
<p>Run the migrations to create this model in your database.</p>
<pre><code class="language-bash">python manage.py makemigrations
python manage.py migrate
</code></pre>
<h3 id="6-add-records-via-django-shell"><a class="header" href="#6-add-records-via-django-shell">6. Add Records via Django Shell</a></h3>
<p>To see records on the web page, you need to add some data. Use the Django shell for this purpose.</p>
<pre><code class="language-bash">python manage.py shell
</code></pre>
<p>In the shell, create some records:</p>
<pre><code class="language-python">from your_app.models import Tour

tour1 = Tour(origin='Malaysia', destination='Japan', number_of_nights=7, price=1000.00)
tour1.save()

tour2 = Tour(origin='Thailand', destination='Singapore', number_of_nights=5, price=750.00)
tour2.save()
</code></pre>
<h3 id="7-view-the-result"><a class="header" href="#7-view-the-result">7. View the Result</a></h3>
<p>Navigate to the URL where your project is running, typically <code>http://127.0.0.1:8000/</code>. You should see your tours listed on the page.</p>
<h3 id="8-adding-more-records"><a class="header" href="#8-adding-more-records">8. Adding More Records</a></h3>
<p>You can add more records either through the Django shell or later through the Django admin interface. For example:</p>
<pre><code class="language-python">tour3 = Tour(origin='Indonesia', destination='Philippines', number_of_nights=10, price=1200.00)
tour3.save()
</code></pre>
<p>Refresh your web page to see the new record displayed.</p>
<h3 id="9-next-steps"><a class="header" href="#9-next-steps">9. Next Steps</a></h3>
<p>In the next tutorial, we will explore the Django admin interface, which provides a robust tool for managing your data without needing to use the shell.</p>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>This tutorial demonstrated how to render records from a Django model into an HTML template. By leveraging Django’s template system and context dictionaries, you can efficiently display dynamic content on your web pages.</p>
<p>This approach showcases Django's powerful interaction with databases and templates, making it an effective framework for web development.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="05.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="07.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="05.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="07.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
